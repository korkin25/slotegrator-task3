ssh_key: "/path/to/ssh_public_key.pub"

# Common settings for all virtual machines
common_vm_settings: &common_vm_settings
  image: "/home/kk573/work/github/slotegrator-task3/k8s-bootstrap/virtualbox.box"
  network_adapters:
    - wlo1:
        type: "nat"
        device: "IntelPro1000MTDesktop"

# Common settings for master node's additional disk
master_disk_settings: &master_disk_settings
  size: "10GB"
  type: "SSD"
  mountpoint: "/mnt/master_disk"

# Common settings for worker node's additional disk
worker_disk_settings: &worker_disk_settings
  size: "20GB"
  type: "SSD"
  mountpoint: "/mnt/worker_disk"

# Common settings for ETCD node's additional disk
etcd_disk_settings: &etcd_disk_settings
  size: "1GB"
  type: "HDD"
  mountpoint: "/etcd_data"

virtual_machines_config:
  global:
    # Define the required provider for Terraform
    required_provider: virtualbox
    provider_info:
      version: ">= 0.0.4"  # Specify the required version
      source: "shekeriev/virtualbox"

  virtual_machines:
    # Configuration for the master node of Kubernetes (k0s)
    - master:
        <<: *common_vm_settings
        prefix: "k8s-master"
        count: 1
        role: "master"
        cpus: 1
        memory: "2048"
        additional_disks:
          - <<: *master_disk_settings

    # Configuration for the worker nodes of Kubernetes (k0s)
    - worker:
        <<: *common_vm_settings
        prefix: "k8s-worker"
        count: 2
        role: "worker"
        cpus: 2
        memory: "2048"
        additional_disks:
          - <<: *worker_disk_settings

    # Configuration for the ETCD nodes of Kubernetes (k0s)
    - etcd:
        <<: *common_vm_settings
        prefix: "k8s-etcd"
        count: 3
        role: "etcd"
        cpus: 2
        memory: "1024"
        additional_disks:
          - <<: *etcd_disk_settings
